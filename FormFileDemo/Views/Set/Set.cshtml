
@{
    ViewData["Title"] = "Details";
}

<h2>Set</h2>

<h1>@ViewBag.SomeKey</h1>
<h1>@ViewBag.SomeValue</h1>
<div id="div-result"></div>

<form id="form-kvp">
    <label for="someKey">Key:</label>
    <input type="text" id="input-someKey" name="someKey" value=""/>
    <label for="someKey">Value:</label>
    <input type="text" id="input-someValue" name="someValue" value="" />
    <button type="submit">Submit</button>
</form>

@section Scripts
{
    <script>
        //document.querySelector("#form-kvp").addEventListener("submit", function (event) {
        //    event.preventDefault();

        //    var key = document.querySelector("#input-someKey").value;
        //    var value = document.querySelector("#input-someValue").value;

        //    document.querySelector("#div-result").innerHTML = key + value;

        //    var url = "http://localhost:4000/set?" + key + "=" + value;
        //    var xhr = new XMLHttpRequest();

        //    xhr.open("GET", url, true);

        //    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        //    xhr.onreadystatechange = function () {//Call a function when the state changes.
        //        if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
        //            document.querySelector("#div-result").innerHTML = key + value + " finished!";
        //        }
        //    }

        //    xhr.send(null);
        //});

    </script>
}
